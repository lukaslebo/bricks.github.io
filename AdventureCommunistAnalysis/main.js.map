{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/researcher-analysis-row/researcher-analysis-row.component.ts","./src/app/components/researcher-analysis-row/researcher-analysis-row.component.html","./src/app/effects/analysis.effect.ts","./src/app/reducer/analysis.actions.ts","./src/app/reducer/analysis.reducer.ts","./src/app/reducer/analysis.state.ts","./src/app/reducer/researcher.state.ts","./src/app/service/analysis.service.ts","./src/app/util/bem.ts","./src/app/util/compression-util.ts","./src/app/util/human-readable-numbers.ts","./src/app/util/rem.ts","./src/environments/environment.ts","./src/main.ts","ignored|C:\\Users\\Lukas\\Documents\\Dev\\projects\\AdventureCommunistAnalysis\\analysis-web\\node_modules\\readable-stream\\lib\\internal\\streams|util","ignored|C:\\Users\\Lukas\\Documents\\Dev\\projects\\AdventureCommunistAnalysis\\analysis-web\\node_modules\\readable-stream\\lib|util"],"sourcesContent":["import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n\timports: [RouterModule.forRoot(routes, {relativeLinkResolution: 'legacy'})],\r\n\texports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n","import { ChangeDetectorRef, Component, OnDestroy } from '@angular/core';\r\nimport { BEM } from './util/bem';\r\nimport { REM } from './util/rem';\r\nimport { select, Store } from '@ngrx/store';\r\nimport {\r\n\tselectAnalysis,\r\n\tselectCurrentRank,\r\n\tselectResearcher\r\n} from './reducer/analysis.reducer';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport {\r\n\tAnalysisMap,\r\n\tResearcher,\r\n\tResearcherStateMap,\r\n\tSection,\r\n\tsections\r\n} from './reducer/analysis.state';\r\nimport { Researchers } from './reducer/researcher.state';\r\nimport {\r\n\tcopyToClipboard,\r\n\tloadCookies,\r\n\tloadFromRoute,\r\n\tupdateRank,\r\n\tupdateResearcher,\r\n\tUpdateResearcherProps\r\n} from './reducer/analysis.actions';\r\nimport { FormControl } from '@angular/forms';\r\nimport { debounceTime, take, takeUntil } from 'rxjs/operators';\r\nimport { Decimal } from 'decimal.js';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n\tselector: 'analysis-app',\r\n\ttemplateUrl: './app.component.html',\r\n\tstyleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnDestroy {\r\n\treadonly blockName = 'analysis-app';\r\n\treadonly styles = BEM(this.blockName);\r\n\treadonly dimensions = REM();\r\n\r\n\treadonly researcherStateMap$: Observable<ResearcherStateMap>;\r\n\treadonly rank$: Observable<number>;\r\n\treadonly analysisMap$: Observable<AnalysisMap>;\r\n\treadonly rankControl = new FormControl(null, { updateOn: 'blur' });\r\n\treadonly sortControl = new FormControl(false);\r\n\treadonly destroyed$ = new Subject<void>();\r\n\r\n\treadonly sections = sections;\r\n\treadonly researcherBySection: Record<Section, Researcher[]>;\r\n\r\n\tconstructor(\r\n\t\tprivate readonly store: Store,\r\n\t\tprivate readonly cdRef: ChangeDetectorRef,\r\n\t\tprivate readonly route: ActivatedRoute\r\n\t) {\r\n\t\tthis.route.queryParams\r\n\t\t\t.pipe(debounceTime(10), take(1), takeUntil(this.destroyed$))\r\n\t\t\t.subscribe((params) => {\r\n\t\t\t\tif (params.r || params.s) {\r\n\t\t\t\t\tthis.store.dispatch(\r\n\t\t\t\t\t\tloadFromRoute({\r\n\t\t\t\t\t\t\trank: params.r,\r\n\t\t\t\t\t\t\tencodedState: params.s\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.store.dispatch(loadCookies());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t// prettier-ignore\r\n\t\tthis.researcherBySection = {\r\n\t\t\tPotato: Researchers.allResearchers.filter((r) => r.industry === 'Potato' && r.modifier !== 'Trade'),\r\n\t\t\tLand: Researchers.allResearchers.filter((r) => r.industry === 'Land' && r.modifier !== 'Trade'),\r\n\t\t\tOre: Researchers.allResearchers.filter((r) => r.industry === 'Ore' && r.modifier !== 'Trade'),\r\n\t\t\tMilitary: Researchers.allResearchers.filter((r) => r.industry === 'Military' && r.modifier !== 'Trade'),\r\n\t\t\tPlacebo: Researchers.allResearchers.filter((r) => r.industry === 'Placebo' && r.modifier !== 'Trade'),\r\n\t\t\tSupreme: Researchers.allResearchers.filter((r) => r.rarity === 'Supreme' && r.modifier !== 'Trade'),\r\n\t\t\tTrade: Researchers.allResearchers.filter((r) => r.modifier === 'Trade')\r\n\t\t};\r\n\r\n\t\tthis.researcherStateMap$ = store.pipe(select(selectResearcher));\r\n\t\tthis.rank$ = store.pipe(select(selectCurrentRank));\r\n\t\tthis.analysisMap$ = store.pipe(select(selectAnalysis));\r\n\r\n\t\tthis.rankControl.valueChanges\r\n\t\t\t.pipe(takeUntil(this.destroyed$))\r\n\t\t\t.subscribe((rank) => this.store.dispatch(updateRank({ rank })));\r\n\t\tthis.rank$\r\n\t\t\t.pipe(takeUntil(this.destroyed$))\r\n\t\t\t.subscribe((rank) =>\r\n\t\t\t\tthis.rankControl.patchValue(rank, { emitEvent: false })\r\n\t\t\t);\r\n\r\n\t\tthis.sortControl.valueChanges\r\n\t\t\t.pipe(takeUntil(this.destroyed$))\r\n\t\t\t.subscribe(() => this.cdRef.detectChanges());\r\n\t}\r\n\r\n\tupdateResearcherState(props: UpdateResearcherProps) {\r\n\t\tthis.store.dispatch(updateResearcher(props));\r\n\t}\r\n\r\n\ttrackByResearcherId(index: number, el: Researcher) {\r\n\t\treturn el.name;\r\n\t}\r\n\r\n\trankUp() {\r\n\t\tconst next = (this.rankControl.value ?? 0) + 1;\r\n\t\tthis.rankControl.setValue(next);\r\n\t}\r\n\r\n\trankDown() {\r\n\t\tconst next = Math.max((this.rankControl.value ?? 0) - 1, 1);\r\n\t\tthis.rankControl.setValue(next);\r\n\t}\r\n\r\n\tfilterAndSort(\r\n\t\tresearchers: Researcher[],\r\n\t\tanalysisMap: AnalysisMap,\r\n\t\trank: number\r\n\t) {\r\n\t\tconst res = researchers.filter((r) => r.unlockedAtRank <= rank);\r\n\t\tif (!this.sortControl.value) return res;\r\n\t\treturn res.sort((a, b) => {\r\n\t\t\tconst rA = new Decimal(analysisMap[a.name].boostPer1kScience);\r\n\t\t\tconst rB = new Decimal(analysisMap[b.name].boostPer1kScience);\r\n\t\t\treturn rA.comparedTo(rB) * -1;\r\n\t\t});\r\n\t}\r\n\r\n\tcopyToClipboard() {\r\n\t\tthis.store.dispatch(copyToClipboard());\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\tthis.destroyed$.next();\r\n\t}\r\n}\r\n","<div [class]=\"blockName\" fxLayout=\"column\" [fxLayoutGap]=\"dimensions(32)\">\r\n\t<div [class]=\"styles('scroll-container')\">\r\n\t\t<div fxLayout=\"column\">\r\n\t\t\t<div [class]=\"styles('header-title')\">\r\n\t\t\t\tAdventure Communists Researcher Analysis\r\n\t\t\t</div>\r\n\t\t\t<div [class]=\"styles('description')\">\r\n\t\t\t\t<p>Enter your rank below and set the levels of your researchers.</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tIf you like you can set the available cards for some of your\r\n\t\t\t\t\tresearchers, so the cost of buying the cards for science can be\r\n\t\t\t\t\tfactored in.\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tIn the section for researchers for comrade trades you can set the cost\r\n\t\t\t\t\tof your <span [class]=\"styles('text', 'bold')\">next</span> comrade\r\n\t\t\t\t\ttrade to get better accuracy. You would set i.e. \"5HH\" or simply \"HH\".\r\n\t\t\t\t\tThis will be used to evaluate how many trades you already got.\r\n\t\t\t\t\tOtherwise the power in the industry will be used to estimate the\r\n\t\t\t\t\tnumber of trades (which is not very accurate).\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tExcept for comrade trades the boost of leveling a researcher is\r\n\t\t\t\t\tevaluated in log with base 2. So leveling a common is always boost 1\r\n\t\t\t\t\tbut multiplies your industry power by 2.\r\n\t\t\t\t</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tDisclaimer: The state of your form below will be saved to your cookies\r\n\t\t\t\t\tonce you start setting values. When you come back to this site you\r\n\t\t\t\t\tdon't have to reapply all your settings.\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div\r\n\t\t\t[class]=\"styles('rank-section')\"\r\n\t\t\tfxLayout=\"row\"\r\n\t\t\tfxLayoutAlign=\"start baseline\"\r\n\t\t\t[fxLayoutGap]=\"dimensions(8)\"\r\n\t\t>\r\n\t\t\t<div>Your Rank</div>\r\n\t\t\t<mat-form-field appearance=\"outline\" [class]=\"styles('rank-field')\">\r\n\t\t\t\t<input matInput [formControl]=\"rankControl\" type=\"number\" />\r\n\t\t\t\t<div matSuffix fxLayout=\"row\">\r\n\t\t\t\t\t<mat-icon (click)=\"rankUp()\">arrow_circle_up</mat-icon>\r\n\t\t\t\t\t<mat-icon (click)=\"rankDown()\">arrow_circle_down</mat-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</mat-form-field>\r\n\t\t\t<mat-checkbox\r\n\t\t\t\t[class]=\"styles('sort-checkbox')\"\r\n\t\t\t\t[formControl]=\"sortControl\"\r\n\t\t\t\t>Sort by most valuable Researchers\r\n\t\t\t</mat-checkbox>\r\n\t\t\t<button\r\n\t\t\t\tmat-button\r\n\t\t\t\t(click)=\"copyToClipboard()\"\r\n\t\t\t\t[class]=\"styles('copy-button')\"\r\n\t\t\t>\r\n\t\t\t\tCopy to Clipboard (URL)\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div\r\n\t\t\t*ngFor=\"let section of sections\"\r\n\t\t\tfxLayout=\"column\"\r\n\t\t\t[class]=\"styles('section')\"\r\n\t\t>\r\n\t\t\t<div fxLayout=\"row\">\r\n\t\t\t\t<div [class]=\"styles('section-title')\">{{ section }} Analysis</div>\r\n\t\t\t\t<div [class]=\"styles('section-header-lvl')\">Level</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\t*ngIf=\"section === 'Trade'\"\r\n\t\t\t\t\t[class]=\"styles('section-header-tradecost')\"\r\n\t\t\t\t>\r\n\t\t\t\t\tTrade Cost\r\n\t\t\t\t</div>\r\n\t\t\t\t<div [class]=\"styles('section-header-cards')\">Available Cards</div>\r\n\t\t\t\t<div [class]=\"styles('section-header-boost')\">Boost</div>\r\n\t\t\t\t<div [class]=\"styles('section-header-cost')\">Cost</div>\r\n\t\t\t\t<div>Boost per 1k science</div>\r\n\t\t\t</div>\r\n\t\t\t<div fxLayout=\"column\" [fxLayoutGap]=\"dimensions(8)\">\r\n\t\t\t\t<div\r\n\t\t\t\t\t*ngFor=\"\r\n\t\t\t\t\t\tlet researcher of filterAndSort(\r\n\t\t\t\t\t\t\tresearcherBySection[section],\r\n\t\t\t\t\t\t\tanalysisMap$ | async,\r\n\t\t\t\t\t\t\trank$ | async\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\ttrackBy: trackByResearcherId\r\n\t\t\t\t\t\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<researcher-analysis-row\r\n\t\t\t\t\t\t[researcher]=\"researcher\"\r\n\t\t\t\t\t\t[researcherState]=\"(researcherStateMap$ | async)[researcher.name]\"\r\n\t\t\t\t\t\t[analysis]=\"(analysisMap$ | async)[researcher.name]\"\r\n\t\t\t\t\t\t(updated)=\"updateResearcherState($event)\"\r\n\t\t\t\t\t></researcher-analysis-row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FlexModule } from '@angular/flex-layout';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { analysisReducerMap } from './reducer/analysis.reducer';\r\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\r\nimport { environment } from '../environments/environment';\r\nimport { ResearcherAnalysisRowComponent } from './components/researcher-analysis-row/researcher-analysis-row.component';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { AnalysisEffect } from './effects/analysis.effect';\r\nimport { AnalysisService } from './service/analysis.service';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { ClipboardModule } from '@angular/cdk/clipboard';\r\n\r\n@NgModule({\r\n\tdeclarations: [AppComponent, ResearcherAnalysisRowComponent],\r\n\timports: [\r\n\t\tAppRoutingModule,\r\n\t\tBrowserAnimationsModule,\r\n\t\tBrowserModule,\r\n\t\tCommonModule,\r\n\t\tClipboardModule,\r\n\t\tFlexModule,\r\n\t\tMatFormFieldModule,\r\n\t\tMatInputModule,\r\n\t\tMatButtonModule,\r\n\t\tMatCheckboxModule,\r\n\t\tMatIconModule,\r\n\t\tReactiveFormsModule,\r\n\t\tStoreModule.forRoot(analysisReducerMap),\r\n\t\tStoreDevtoolsModule.instrument({\r\n\t\t\tmaxAge: 25,\r\n\t\t\tlogOnly: environment.production\r\n\t\t}),\r\n\t\tEffectsModule.forRoot([AnalysisEffect])\r\n\t],\r\n\tproviders: [AnalysisService],\r\n\tbootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","import {Component, EventEmitter, Input, OnDestroy, Output} from '@angular/core';\nimport {BEM} from '../../util/bem';\nimport {REM} from '../../util/rem';\nimport {Analysis, Researcher, ResearcherState} from '../../reducer/analysis.state';\nimport {FormBuilder, FormControl} from '@angular/forms';\nimport {BehaviorSubject, Subject} from 'rxjs';\nimport {initialResearcherState} from '../../reducer/analysis.reducer';\nimport {map, takeUntil} from 'rxjs/operators';\nimport {UpdateResearcherProps} from '../../reducer/analysis.actions';\nimport {MAT_FORM_FIELD_DEFAULT_OPTIONS} from '@angular/material/form-field';\nimport {Decimal} from 'decimal.js';\nimport {toHumanReadable, unitsMapping} from '../../util/human-readable-numbers';\nimport {environment} from '../../../environments/environment';\n\n@Component({\n\tselector: 'researcher-analysis-row',\n\ttemplateUrl: './researcher-analysis-row.component.html',\n\tstyleUrls: ['./researcher-analysis-row.component.scss'],\n\tproviders: [\n\t\t{\n\t\t\tprovide: MAT_FORM_FIELD_DEFAULT_OPTIONS,\n\t\t\tuseValue: {appearance: 'outline', floatLabel: 'auto'}\n\t\t}\n\t]\n})\nexport class ResearcherAnalysisRowComponent implements OnDestroy {\n\treadonly blockName = 'researcher-analysis-row';\n\treadonly styles = BEM(this.blockName);\n\treadonly dimensions = REM();\n\n\treadonly iconPath = environment.iconPath;\n\n\t@Input()\n\tresearcher: Researcher;\n\n\t@Input()\n\tset researcherState(researcherState: ResearcherState) {\n\t\tthis.researcherState$.next(researcherState);\n\t}\n\n\tget researcherState() {\n\t\treturn this.researcherState$.getValue();\n\t}\n\n\tresearcherState$ = new BehaviorSubject<ResearcherState>(\n\t\tinitialResearcherState\n\t);\n\n\t@Input()\n\tanalysis: Analysis;\n\n\t@Output()\n\tupdated = new EventEmitter<UpdateResearcherProps>();\n\n\tformControls: Record<keyof ResearcherState, FormControl> = {\n\t\tcurrentLevel: new FormControl(null),\n\t\tavailableCards: new FormControl(null),\n\t\tnextTradeCost: new FormControl(null)\n\t};\n\tformGroup = this.formBuilder.group(this.formControls, { updateOn: 'blur' });\n\n\tdestroyed$ = new Subject<void>();\n\n\tconstructor(private readonly formBuilder: FormBuilder) {\n\t\tthis.researcherState$\n\t\t\t.pipe(takeUntil(this.destroyed$))\n\t\t\t.subscribe((researcherState) =>\n\t\t\t\tthis.formGroup.patchValue(researcherState, { emitEvent: false })\n\t\t\t);\n\t\tthis.formGroup.valueChanges\n\t\t\t.pipe(\n\t\t\t\ttakeUntil(this.destroyed$),\n\t\t\t\tmap(() => {\n\t\t\t\t\tconst val = this.formGroup.getRawValue();\n\t\t\t\t\tconst unit = this.formControls.nextTradeCost.value?.match(\n\t\t\t\t\t\t/(?<num>[0-9]*)(?<unit>[a-z]*)/i\n\t\t\t\t\t).groups.unit;\n\t\t\t\t\tif (val.nextTradeCost) {\n\t\t\t\t\t\tval.nextTradeCost = unit.toUpperCase();\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t})\n\t\t\t)\n\t\t\t.subscribe((state) =>\n\t\t\t\tthis.updated.emit({\n\t\t\t\t\tid: this.researcher.name,\n\t\t\t\t\tresearcherState: state\n\t\t\t\t})\n\t\t\t);\n\t}\n\n\tlvlUp() {\n\t\tlet maxLevel;\n\t\tswitch (this.researcher.rarity) {\n\t\t\tcase 'Common':\n\t\t\t\tmaxLevel = 13;\n\t\t\t\tbreak;\n\t\t\tcase 'Rare':\n\t\t\t\tmaxLevel = 11;\n\t\t\t\tbreak;\n\t\t\tcase 'Epic':\n\t\t\t\tmaxLevel = 8;\n\t\t\t\tbreak;\n\t\t\tcase 'Supreme':\n\t\t\t\tmaxLevel = 5;\n\t\t\t\tbreak;\n\t\t}\n\t\tconst next = Math.min(this.formControls.currentLevel.value, maxLevel);\n\t\tthis.formControls.currentLevel.setValue(next);\n\t}\n\n\tlvlDown() {\n\t\tconst next = Math.max(this.formControls.currentLevel.value - 1, 0);\n\t\tthis.formControls.currentLevel.setValue(next);\n\t}\n\n\ttradeCostUp() {\n\t\tconst unit = this.formControls.nextTradeCost.value?.match(\n\t\t\t/(?<num>[0-9]*)(?<unit>[a-z]*)/i\n\t\t).groups.unit;\n\t\tconst index = unitsMapping.indexOf(unit);\n\t\tthis.formControls.nextTradeCost.setValue(unitsMapping[index + 1] ?? null);\n\t}\n\n\ttradeCostDown() {\n\t\tconst unit = this.formControls.nextTradeCost.value?.match(\n\t\t\t/(?<num>[0-9]*)(?<unit>[a-z]*)/i\n\t\t).groups.unit;\n\t\tconst index = unitsMapping.indexOf(unit);\n\t\tthis.formControls.nextTradeCost.setValue(unitsMapping[index - 1] ?? null);\n\t}\n\n\tcardsUp() {\n\t\tconst next = (this.formControls.availableCards.value ?? 0) + 1;\n\t\tthis.formControls.availableCards.setValue(next);\n\t}\n\n\tcardsDown() {\n\t\tlet next = (this.formControls.availableCards.value ?? 0) - 1;\n\t\tif (next < 0) {\n\t\t\tnext = null;\n\t\t}\n\t\tthis.formControls.availableCards.setValue(next);\n\t}\n\n\tformat(num: string) {\n\t\treturn num ? toHumanReadable(new Decimal(num)) : '';\n\t}\n\n\tgetCost() {\n\t\tconst upgradeCost = new Decimal(this.analysis?.upgradeCost ?? 0);\n\t\tconst upgradeCardCost = new Decimal(this.analysis?.upgradeCardCost ?? 0);\n\t\tconst nums = upgradeCardCost.gt(0)\n\t\t\t? [upgradeCost, upgradeCardCost]\n\t\t\t: [upgradeCost];\n\t\treturn nums.map((n) => toHumanReadable(n)).join(' + ');\n\t}\n\n\tngOnDestroy() {\n\t\tthis.destroyed$.next();\n\t}\n}\n","<div\r\n\t[class]=\"blockName\"\r\n\tfxLayout=\"row\"\r\n\t[fxLayoutGap]=\"dimensions(8)\"\r\n\tfxLayoutAlign=\"start baseline\"\r\n>\r\n\t<div [class]=\"styles('name')\">{{ researcher.researcherName }}</div>\r\n\t<div [class]=\"styles('industry')\">\r\n\t\t<img [src]=\"iconPath + researcher.industry.toLowerCase() + '.png'\" />\r\n\t</div>\r\n\t<div [class]=\"styles('modifier')\">\r\n\t\t<img [src]=\"iconPath + researcher.modifier.toLowerCase() + '.png'\" />\r\n\t</div>\r\n\t<mat-form-field [class]=\"styles('current-level')\">\r\n\t\t<input matInput [formControl]=\"formControls.currentLevel\" type=\"number\" />\r\n\t\t<div matSuffix fxLayout=\"row\">\r\n\t\t\t<mat-icon (click)=\"lvlUp()\">arrow_circle_up</mat-icon>\r\n\t\t\t<mat-icon (click)=\"lvlDown()\">arrow_circle_down</mat-icon>\r\n\t\t</div>\r\n\t</mat-form-field>\r\n\t<mat-form-field\r\n\t\t*ngIf=\"researcher.modifier === 'Trade' && researcher.rarity !== 'Supreme'\"\r\n\t\t[class]=\"styles('trade-cost')\"\r\n\t>\r\n\t\t<input matInput [formControl]=\"formControls.nextTradeCost\" type=\"text\" />\r\n\t\t<div matSuffix fxLayout=\"row\">\r\n\t\t\t<mat-icon (click)=\"tradeCostUp()\">arrow_circle_up</mat-icon>\r\n\t\t\t<mat-icon (click)=\"tradeCostDown()\">arrow_circle_down</mat-icon>\r\n\t\t</div>\r\n\t</mat-form-field>\r\n\t<div\r\n\t\t*ngIf=\"researcher.modifier === 'Trade' && researcher.rarity === 'Supreme'\"\r\n\t\t[class]=\"styles('trade-cost-placeholder')\"\r\n\t></div>\r\n\t<mat-form-field [class]=\"styles('available-cards')\">\r\n\t\t<input matInput [formControl]=\"formControls.availableCards\" type=\"number\" />\r\n\t\t<div matSuffix fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n\t\t\t<mat-icon (click)=\"cardsUp()\">arrow_circle_up</mat-icon>\r\n\t\t\t<mat-icon (click)=\"cardsDown()\">arrow_circle_down</mat-icon>\r\n\t\t</div>\r\n\t</mat-form-field>\r\n\t<div [class]=\"styles('boost')\">{{ format(analysis?.boost) }}</div>\r\n\t<div [class]=\"styles('cost')\">\r\n\t\t{{ getCost() }}\r\n\t</div>\r\n\t<div>\r\n\t\t{{ format(analysis?.boostPer1kScience) }}\r\n\t</div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\r\nimport {\r\n\tcopyToClipboard,\r\n\tloadCookies,\r\n\tloadFromRoute,\r\n\tstateLoaded,\r\n\tupdateAnalysisMap,\r\n\tupdateRank,\r\n\tupdateResearcher\r\n} from '../reducer/analysis.actions';\r\nimport { map, switchMap, tap, withLatestFrom } from 'rxjs/operators';\r\nimport { AnalysisMap, ResearcherStateMap } from '../reducer/analysis.state';\r\nimport { Researchers } from '../reducer/researcher.state';\r\nimport { select, Store } from '@ngrx/store';\r\nimport {\r\n\tselectCurrentRank,\r\n\tselectResearcher\r\n} from '../reducer/analysis.reducer';\r\nimport { AnalysisService } from '../service/analysis.service';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { Clipboard } from '@angular/cdk/clipboard';\r\nimport { of } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { compressState, decompressState } from '../util/compression-util';\r\n\r\n@Injectable()\r\nexport class AnalysisEffect {\r\n\tconstructor(\r\n\t\tprivate readonly actions: Actions,\r\n\t\tprivate readonly store: Store,\r\n\t\tprivate readonly analysisService: AnalysisService,\r\n\t\tprivate readonly cookieService: CookieService,\r\n\t\tprivate readonly clipboard: Clipboard,\r\n\t\tprivate readonly router: Router\r\n\t) {}\r\n\r\n\treadonly loadCookie$ = createEffect(() =>\r\n\t\tthis.actions.pipe(\r\n\t\t\tofType(loadCookies),\r\n\t\t\tmap(() => {\r\n\t\t\t\tlet researcherStateMap: ResearcherStateMap;\r\n\t\t\t\tlet rank: number;\r\n\t\t\t\tif (this.cookieService.check('GAME_STATE')) {\r\n\t\t\t\t\tconst gameState = this.cookieService.get('GAME_STATE');\r\n\t\t\t\t\tresearcherStateMap = decompressState(gameState);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.cookieService.check('RANK')) {\r\n\t\t\t\t\trank = JSON.parse(this.cookieService.get('RANK'));\r\n\t\t\t\t}\r\n\t\t\t\treturn stateLoaded({ rank, researcherStateMap });\r\n\t\t\t})\r\n\t\t)\r\n\t);\r\n\r\n\treadonly storeCookie$ = createEffect(\r\n\t\t() =>\r\n\t\t\tthis.actions.pipe(\r\n\t\t\t\tofType(updateResearcher, updateRank, stateLoaded),\r\n\t\t\t\twithLatestFrom(\r\n\t\t\t\t\tthis.store.pipe(select(selectResearcher)),\r\n\t\t\t\t\tthis.store.pipe(select(selectCurrentRank))\r\n\t\t\t\t),\r\n\t\t\t\ttap(([_, researcherStateMap, rank]) => {\r\n\t\t\t\t\tconst expires = new Date();\r\n\t\t\t\t\texpires.setFullYear(expires.getFullYear() + 3);\r\n\t\t\t\t\tthis.cookieService.set(\r\n\t\t\t\t\t\t'GAME_STATE',\r\n\t\t\t\t\t\tcompressState(researcherStateMap),\r\n\t\t\t\t\t\texpires,\r\n\t\t\t\t\t\t'/',\r\n\t\t\t\t\t\tdocument.domain,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t'Lax'\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tthis.cookieService.set(\r\n\t\t\t\t\t\t'RANK',\r\n\t\t\t\t\t\trank?.toString(),\r\n\t\t\t\t\t\texpires,\r\n\t\t\t\t\t\t'/',\r\n\t\t\t\t\t\tdocument.domain,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t'Lax'\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t{\r\n\t\t\tdispatch: false\r\n\t\t}\r\n\t);\r\n\r\n\treadonly updateAnalysis$ = createEffect(() =>\r\n\t\tthis.actions.pipe(\r\n\t\t\tofType(updateResearcher, stateLoaded),\r\n\t\t\twithLatestFrom(this.store.pipe(select(selectResearcher))),\r\n\t\t\tmap(([_, researcherStateMap]) => {\r\n\t\t\t\tconst analysisMap = Researchers.allResearchers\r\n\t\t\t\t\t.map((r) => ({\r\n\t\t\t\t\t\t[r.name]: this.analysisService.analyze(r, researcherStateMap)\r\n\t\t\t\t\t}))\r\n\t\t\t\t\t.reduce((acc, next) => ({ ...acc, ...next }), <AnalysisMap>{});\r\n\r\n\t\t\t\treturn updateAnalysisMap({ analysisMap });\r\n\t\t\t})\r\n\t\t)\r\n\t);\r\n\r\n\treadonly loadStateFromRoute$ = createEffect(() =>\r\n\t\tthis.actions.pipe(\r\n\t\t\tofType(loadFromRoute),\r\n\t\t\tswitchMap(({ rank, encodedState }) =>\r\n\t\t\t\tof(\r\n\t\t\t\t\tstateLoaded({\r\n\t\t\t\t\t\trank,\r\n\t\t\t\t\t\tresearcherStateMap: decompressState(encodedState)\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t\ttap(() => this.router.navigate(['/']))\r\n\t\t)\r\n\t);\r\n\r\n\treadonly copyToClipboard$ = createEffect(\r\n\t\t() =>\r\n\t\t\tthis.actions.pipe(\r\n\t\t\t\tofType(copyToClipboard),\r\n\t\t\t\twithLatestFrom(\r\n\t\t\t\t\tthis.store.pipe(select(selectCurrentRank)),\r\n\t\t\t\t\tthis.store.pipe(select(selectResearcher))\r\n\t\t\t\t),\r\n\t\t\t\ttap(([_, rank, researcherStateMap]) => {\r\n\t\t\t\t\tthis.clipboard.copy(\r\n\t\t\t\t\t\twindow.location.origin +\r\n\t\t\t\t\t\t\twindow.location.pathname +\r\n\t\t\t\t\t\t\t`?r=${rank}&s=${encodeURIComponent(\r\n\t\t\t\t\t\t\t\tcompressState(researcherStateMap)\r\n\t\t\t\t\t\t\t)}`\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t{ dispatch: false }\r\n\t);\r\n}\r\n","import { createAction, props } from '@ngrx/store';\r\nimport {\r\n\tAnalysisMap,\r\n\tResearcherState,\r\n\tResearcherStateMap\r\n} from './analysis.state';\r\n\r\nexport const updateRank = createAction(\r\n\t'[Analysis] updateRank',\r\n\tprops<{ rank: number }>()\r\n);\r\n\r\nexport interface UpdateResearcherProps {\r\n\tid: string;\r\n\tresearcherState: ResearcherState;\r\n}\r\n\r\nexport const updateResearcher = createAction(\r\n\t'[Analysis] updateResearcher',\r\n\tprops<UpdateResearcherProps>()\r\n);\r\n\r\nexport const updateAnalysisMap = createAction(\r\n\t'[Analysis] updateAnalysisMap',\r\n\tprops<{ analysisMap: AnalysisMap }>()\r\n);\r\n\r\nexport const loadCookies = createAction('[Analysis] loadCookies');\r\n\r\nexport const loadFromRoute = createAction(\r\n\t'[Analysis] loadFromRoute',\r\n\tprops<{ rank: number; encodedState: string }>()\r\n);\r\n\r\nexport const stateLoaded = createAction(\r\n\t'[Analysis] stateLoaded',\r\n\tprops<{\r\n\t\trank: number;\r\n\t\tresearcherStateMap: ResearcherStateMap;\r\n\t}>()\r\n);\r\n\r\nexport const copyToClipboard = createAction('[Analysis] copyToClipboard');\r\n","import {\r\n\tActionReducerMap,\r\n\tcreateFeatureSelector,\r\n\tcreateReducer,\r\n\ton\r\n} from '@ngrx/store';\r\nimport {\r\n\tAnalysisMap,\r\n\tAnalysisRootState,\r\n\tResearcherState,\r\n\tResearcherStateMap\r\n} from './analysis.state';\r\nimport { Researchers } from './researcher.state';\r\nimport {\r\n\tstateLoaded,\r\n\tupdateAnalysisMap,\r\n\tupdateRank,\r\n\tupdateResearcher\r\n} from './analysis.actions';\r\nimport produce from 'immer';\r\n\r\nconst rankReducer = createReducer(\r\n\t1,\r\n\ton(updateRank, (_, { rank }) => rank),\r\n\ton(stateLoaded, (state, { rank }) => rank ?? state)\r\n);\r\n\r\nexport const initialResearcherState: ResearcherState = {\r\n\tcurrentLevel: 0,\r\n\tavailableCards: null,\r\n\tnextTradeCost: null\r\n};\r\nconst researcherInitialState = Researchers.allResearchers.reduce(\r\n\t(acc, r) => ({\r\n\t\t...acc,\r\n\t\t[r.name]: initialResearcherState\r\n\t}),\r\n\t<ResearcherStateMap>{}\r\n);\r\nconst researcherReducer = createReducer(\r\n\tresearcherInitialState,\r\n\ton(updateResearcher, (state, { id, researcherState }) =>\r\n\t\tproduce(state, (draft: ResearcherStateMap) => {\r\n\t\t\tdraft[id] = researcherState;\r\n\t\t})\r\n\t),\r\n\ton(stateLoaded, (state, { researcherStateMap }) => ({\r\n\t\t...state,\r\n\t\t...researcherStateMap\r\n\t}))\r\n);\r\n\r\nconst analysisInitialState = Researchers.allResearchers.reduce(\r\n\t(acc, r) => ({\r\n\t\t...acc,\r\n\t\t[r.name]: null\r\n\t}),\r\n\t<AnalysisMap>{}\r\n);\r\n\r\nconst analysisReducer = createReducer(\r\n\tanalysisInitialState,\r\n\ton(updateAnalysisMap, (state, { analysisMap }) => ({\r\n\t\t...state,\r\n\t\t...analysisMap\r\n\t}))\r\n);\r\n\r\nconst cookieReducer = createReducer(\r\n\tfalse,\r\n\ton(stateLoaded, () => true)\r\n);\r\n\r\nexport const analysisReducerMap: ActionReducerMap<AnalysisRootState> = {\r\n\tcurrentRank: rankReducer,\r\n\tresearcher: researcherReducer,\r\n\tanalysis: analysisReducer,\r\n\tcookiesLoaded: cookieReducer\r\n};\r\n\r\nexport const selectCurrentRank = createFeatureSelector<\r\n\tAnalysisRootState,\r\n\tnumber\r\n>('currentRank');\r\n\r\nexport const selectResearcher = createFeatureSelector<\r\n\tAnalysisRootState,\r\n\tResearcherStateMap\r\n>('researcher');\r\n\r\nexport const selectAnalysis = createFeatureSelector<\r\n\tAnalysisRootState,\r\n\tAnalysisMap\r\n>('analysis');\r\n\r\nexport const selectCookiesLoaded = createFeatureSelector<\r\n\tAnalysisRootState,\r\n\tboolean\r\n>('cookiesLoaded');\r\n","export interface AnalysisRootState {\r\n\tcurrentRank: number;\r\n\tresearcher: ResearcherStateMap;\r\n\tanalysis: AnalysisMap;\r\n\tcookiesLoaded: boolean;\r\n}\r\n\r\nexport type ResearcherStateMap = { [id: string]: ResearcherState };\r\nexport type AnalysisMap = { [id: string]: Analysis };\r\n\r\nexport type Industry =\r\n\t| 'Potato'\r\n\t| 'Land'\r\n\t| 'Ore'\r\n\t| 'Military'\r\n\t| 'Placebo'\r\n\t| 'All';\r\n\r\nexport type Modifier =\r\n\t| 'Speed'\r\n\t| 'Power'\r\n\t| 'Trade'\r\n\t| 'Chance'\r\n\t| 'Discount'\r\n\t| 'Bonus'\r\n\t| 'SinglePower';\r\nexport type Rarity = 'Common' | 'Rare' | 'Epic' | 'Supreme';\r\nexport type Section =\r\n\t| 'Potato'\r\n\t| 'Land'\r\n\t| 'Ore'\r\n\t| 'Military'\r\n\t| 'Placebo'\r\n\t| 'Supreme'\r\n\t| 'Trade';\r\nexport const sections: Section[] = [\r\n\t'Potato',\r\n\t'Land',\r\n\t'Ore',\r\n\t'Military',\r\n\t'Placebo',\r\n\t'Supreme',\r\n\t'Trade'\r\n];\r\n\r\nexport interface Researcher {\r\n\tid: number;\r\n\t/** short form of the researcher name */\r\n\tname: string;\r\n\t/** full researcher name */\r\n\tresearcherName: string;\r\n\tunlockedAtRank: number;\r\n\tindustry: Industry;\r\n\tmodifier: Modifier;\r\n\trarity: Rarity;\r\n}\r\n\r\nexport interface ResearcherState {\r\n\tcurrentLevel: number;\r\n\tavailableCards: number;\r\n\tnextTradeCost?: string; // only for Trade Researcher\r\n}\r\n\r\nexport interface Analysis {\r\n\tboost: string;\r\n\tboostPer1kScience: string;\r\n\tupgradeCost: string;\r\n\tupgradeCardCost: string;\r\n\tcanUpgrade: boolean;\r\n}\r\n","import { Researcher } from './analysis.state';\r\n// @formatter:off\r\n// prettier-ignore\r\nexport class Researchers {\r\n\t// Potato Commons\r\n\tstatic readonly RingoRinglet: Researcher = { id: 1, name: 'RingoRinglet', researcherName: 'Ringo Ringlet', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 1};\r\n\tstatic readonly CommuneOfDoggone: Researcher = { id: 2, name: 'CommuneOfDoggone', researcherName: 'Commune of Doggone', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 1};\r\n\tstatic readonly MadMadMarx: Researcher = { id: 3, name: 'MadMadMarx', researcherName: 'Mad Mad Marx', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 3};\r\n\tstatic readonly RickyJay: Researcher = { id: 4, name: 'RickyJay', researcherName: 'Ricky Jay', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 5};\r\n\tstatic readonly DrQuinnyForeman: Researcher = { id: 5, name: 'DrQuinnyForeman', researcherName: 'Dr. Quinny Foreman', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 8};\r\n\tstatic readonly DoggBenson: Researcher = { id: 6, name: 'DoggBenson', researcherName: 'Dogg Benson', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 15};\r\n\tstatic readonly ErnieAbeNormal: Researcher = { id: 7, name: 'ErnieAbeNormal', researcherName: 'Ernie Abe Normal', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 28};\r\n\tstatic readonly IsaacCulkin: Researcher = { id: 8, name: 'IsaacCulkin', researcherName: 'Isaac Culkin', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 42};\r\n\tstatic readonly NatePolly: Researcher = { id: 9, name: 'NatePolly', researcherName: 'Nate Polly', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 57};\r\n\tstatic readonly SpudlyDoRight: Researcher = { id: 10, name: 'SpudlyDoRight', researcherName: 'Spudly Do Right', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 80};\r\n\tstatic readonly UncleSmurf: Researcher = { id: 11, name: 'UncleSmurf', researcherName: 'Uncle Smurf', industry: 'Potato', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 103};\r\n\r\n\t// Land Commons\r\n\tstatic readonly MillyTheMighty: Researcher = { id: 12, name: 'MillyTheMighty', researcherName: 'Milly the Mighty', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 3};\r\n\tstatic readonly BigPaulie: Researcher = { id: 13, name: 'BigPaulie', researcherName: 'Big Paulie', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 4};\r\n\tstatic readonly DocBrownRoad: Researcher = { id: 14, name: 'DocBrownRoad', researcherName: 'Doc Brown Road', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 5};\r\n\tstatic readonly JohnnyT: Researcher = { id: 15, name: 'JohnnyT', researcherName: 'Johnny T', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 7};\r\n\tstatic readonly JoviCannonball: Researcher = { id: 16, name: 'JoviCannonball', researcherName: 'Jovi Cannonball', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 13};\r\n\tstatic readonly ChuckClampall: Researcher = { id: 17, name: 'ChuckClampall', researcherName: 'Chuck Clampall', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 23};\r\n\tstatic readonly SailorBonny: Researcher = { id: 18, name: 'SailorBonny', researcherName: 'Sailor Bonny', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 36};\r\n\tstatic readonly GeriSpringerBouvier: Researcher = { id: 19, name: 'GeriSpringerBouvier', researcherName: 'Geri Springer Bouvier', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 51};\r\n\tstatic readonly MaverickRyback: Researcher = { id: 20, name: 'MaverickRyback', researcherName: 'Maverick Ryback', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 68};\r\n\tstatic readonly JimmyAstroseed: Researcher = { id: 21, name: 'JimmyAstroseed', researcherName: 'Jimmy Astroseed', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 88};\r\n\tstatic readonly AlbertMutanstein: Researcher = { id: 22, name: 'AlbertMutanstein', researcherName: 'Albert Mutanstein', industry: 'Land', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 114};\r\n\r\n\t// Ore Commons\r\n\tstatic readonly DerekKeeblander: Researcher = { id: 23, name: 'DerekKeeblander', researcherName: 'Derek Keeblander', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 6};\r\n\tstatic readonly MorticianMarley: Researcher = { id: 24, name: 'MorticianMarley', researcherName: 'Mortician Marley', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 7};\r\n\tstatic readonly BlastOffBuds: Researcher = { id: 25, name: 'BlastOffBuds', researcherName: 'Blast Off Buds', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 9};\r\n\tstatic readonly Speluffy: Researcher = { id: 26, name: 'Speluffy', researcherName: 'Speluffy', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 10};\r\n\tstatic readonly Pumbob: Researcher = { id: 27, name: 'Pumbob', researcherName: 'Pumbob', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 21};\r\n\tstatic readonly LtMcRhodey: Researcher = { id: 28, name: 'LtMcRhodey', researcherName: 'Lt. McRhodey', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 33};\r\n\tstatic readonly CaptainDDrumpf: Researcher = { id: 29, name: 'CaptainDDrumpf', researcherName: 'Captain D. Drumpf', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 48};\r\n\tstatic readonly DragoactiveMan: Researcher = { id: 30, name: 'DragoactiveMan', researcherName: 'Dragoactive Man', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 64};\r\n\tstatic readonly LandyCalrussian: Researcher = { id: 31, name: 'LandyCalrussian', researcherName: 'Landy Calrussian', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 84};\r\n\tstatic readonly ComradeBroski: Researcher = { id: 32, name: 'ComradeBroski', researcherName: 'Comrade Broski', industry: 'Ore', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 108};\r\n\r\n\t// Military Commons\r\n\tstatic readonly DukeOHazzard: Researcher = { id: 33, name: 'DukeOHazzard', researcherName: \"Duke O'Hazzard\", industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 11};\r\n\tstatic readonly ChuckManhart: Researcher = { id: 34, name: 'ChuckManhart', researcherName: 'Chuck Manhart', industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 12};\r\n\tstatic readonly BradBones: Researcher = { id: 35, name: 'BradBones', researcherName: 'Brad Bones', industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 14};\r\n\tstatic readonly Starvin: Researcher = { id: 36, name: 'Starvin', researcherName: 'Starvin', industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 16};\r\n\tstatic readonly JeanCRico: Researcher = { id: 37, name: 'JeanCRico', researcherName: 'Jean C. Rico', industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 31};\r\n\tstatic readonly SkeezyMcScott: Researcher = { id: 38, name: 'SkeezyMcScott', researcherName: 'Skeezy McScott', industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 45};\r\n\tstatic readonly CaptainJSpaddock: Researcher = { id: 39, name: 'CaptainJSpaddock', researcherName: 'Captain J. Spaddock', industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 60};\r\n\tstatic readonly DominicsAngels: Researcher = { id: 40, name: 'DominicsAngels', researcherName: 'Dominics Angels', industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 76};\r\n\tstatic readonly MannyOsbomb: Researcher = { id: 41, name: 'MannyOsbomb', researcherName: 'Manny Osbomb', industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 98};\r\n\tstatic readonly LocutusFreak: Researcher = { id: 42, name: 'LocutusFreak', researcherName: 'Locutus Freak', industry: 'Military', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 126};\r\n\r\n\t// Placebo Commons\r\n\tstatic readonly KennieWhooser: Researcher = { id: 43, name: 'KennieWhooser', researcherName: 'Kennie Whooser', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 18};\r\n\tstatic readonly Patcheye: Researcher = { id: 44, name: 'Patcheye', researcherName: 'Patcheye', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 19};\r\n\tstatic readonly JDMD: Researcher = { id: 45, name: 'JDMD', researcherName: 'J.D.M.D.', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 20};\r\n\tstatic readonly HowlinMac: Researcher = { id: 46, name: 'HowlinMac', researcherName: 'Howlin Mac', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 25};\r\n\tstatic readonly EleanorLynn: Researcher = { id: 47, name: 'EleanorLynn', researcherName: 'Eleanor Lynn', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 39};\r\n\tstatic readonly DoctorMcSizzly: Researcher = { id: 48, name: 'DoctorMcSizzly', researcherName: 'Doctor McSizzly', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 54};\r\n\tstatic readonly DoctorHasselberg: Researcher = { id: 49, name: 'DoctorHasselberg', researcherName: 'Doctor Hasselberg', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 72};\r\n\tstatic readonly TheKillMeNows: Researcher = { id: 50, name: 'TheKillMeNows', researcherName: 'The Kill Me Nows', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 93};\r\n\tstatic readonly ZapMcNicoy: Researcher = { id: 51, name: 'ZapMcNicoy', researcherName: 'Zap McNicoy', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 120};\r\n\tstatic readonly TheMonstourage: Researcher = { id: 52, name: 'TheMonstourage', researcherName: 'The Monstourage', industry: 'Placebo', modifier: 'Speed', rarity: 'Common', unlockedAtRank: 150};\r\n\r\n\t// Rares\r\n\tstatic readonly Mactuber: Researcher = { id: 53, name: 'Mactuber', researcherName: 'Mactuber', industry: 'Potato', modifier: 'Power', rarity: 'Rare', unlockedAtRank: 3};\r\n\tstatic readonly TheConfectioners: Researcher = { id: 54, name: 'TheConfectioners', researcherName: 'The Confectioners', industry: 'Potato', modifier: 'Chance', rarity: 'Rare', unlockedAtRank: 3};\r\n\tstatic readonly AssistantToTheMajor: Researcher = { id: 55, name: 'AssistantToTheMajor', researcherName: \"Assistant 'to the' Major\", industry: 'Potato', modifier: 'Trade', rarity: 'Rare', unlockedAtRank: 3};\r\n\tstatic readonly JasonVanDriessen: Researcher = { id: 56, name: 'JasonVanDriessen', researcherName: 'Jason Van Driessen', industry: 'Land', modifier: 'Power', rarity: 'Rare', unlockedAtRank: 3};\r\n\tstatic readonly TheGroovers: Researcher = { id: 57, name: 'TheGroovers', researcherName: 'The Groovers', industry: 'Land', modifier: 'Chance', rarity: 'Rare', unlockedAtRank: 3};\r\n\tstatic readonly WackoJoker: Researcher = { id: 58, name: 'WackoJoker', researcherName: 'Wacko Joker', industry: 'Land', modifier: 'Trade', rarity: 'Rare', unlockedAtRank: 3};\r\n\tstatic readonly RobertScratchesSaki: Researcher = { id: 59, name: 'RobertScratchesSaki', researcherName: 'Robert Scratches Saki', industry: 'Ore', modifier: 'Power', rarity: 'Rare', unlockedAtRank: 8};\r\n\tstatic readonly GimliYosemiteSam: Researcher = { id: 60, name: 'GimliYosemiteSam', researcherName: 'Gimli Yosemite Sam', industry: 'Ore', modifier: 'Chance', rarity: 'Rare', unlockedAtRank: 11};\r\n\tstatic readonly Salvadorville: Researcher = { id: 61, name: 'Salvadorville', researcherName: 'Salvadorville', industry: 'Ore', modifier: 'Trade', rarity: 'Rare', unlockedAtRank: 10};\r\n\tstatic readonly JohnnyORambo: Researcher = { id: 62, name: 'JohnnyORambo', researcherName: 'Johnny O. Rambo', industry: 'Military', modifier: 'Power', rarity: 'Rare', unlockedAtRank: 12};\r\n\tstatic readonly DarthWallace: Researcher = { id: 63, name: 'DarthWallace', researcherName: 'Darth Wallace', industry: 'Military', modifier: 'Chance', rarity: 'Rare', unlockedAtRank: 17};\r\n\tstatic readonly AdrianXVultor: Researcher = { id: 64, name: 'AdrianXVultor', researcherName: 'Adrian X. Vultor', industry: 'Military', modifier: 'Trade', rarity: 'Rare', unlockedAtRank: 16};\r\n\tstatic readonly MerthaJoy: Researcher = { id: 65, name: 'MerthaJoy', researcherName: 'Mertha Joy', industry: 'Placebo', modifier: 'Power', rarity: 'Rare', unlockedAtRank: 18};\r\n\tstatic readonly NurseTemple: Researcher = { id: 66, name: 'NurseTemple', researcherName: 'Nurse Temple', industry: 'Placebo', modifier: 'Chance', rarity: 'Rare', unlockedAtRank: 24};\r\n\tstatic readonly SirLanceEgon: Researcher = { id: 67, name: 'SirLanceEgon', researcherName: 'Sir Lance Egon', industry: 'Placebo', modifier: 'Trade', rarity: 'Rare', unlockedAtRank: 20};\r\n\tstatic readonly Magdonut: Researcher = { id: 68, name: 'Magdonut', researcherName: 'Magdonut', industry: 'Potato', modifier: 'SinglePower', rarity: 'Rare', unlockedAtRank: 34};\r\n\tstatic readonly TheShrink: Researcher = { id: 69, name: 'TheShrink', researcherName: 'The Shrink', industry: 'Land', modifier: 'SinglePower', rarity: 'Rare', unlockedAtRank: 44};\r\n\tstatic readonly Thollum: Researcher = { id: 70, name: 'Thollum', researcherName: 'Thollum', industry: 'Ore', modifier: 'SinglePower', rarity: 'Rare', unlockedAtRank: 56};\r\n\tstatic readonly DingDongUn: Researcher = { id: 71, name: 'DingDongUn', researcherName: 'Ding Dong Un', industry: 'Military', modifier: 'SinglePower', rarity: 'Rare', unlockedAtRank: 70};\r\n\tstatic readonly MisaValentine: Researcher = { id: 72, name: 'MisaValentine', researcherName: 'Misa Valentine', industry: 'Placebo', modifier: 'SinglePower', rarity: 'Rare', unlockedAtRank: 90};\r\n\r\n\t// Epics\r\n\tstatic readonly Pringlett: Researcher = { id: 73, name: 'Pringlett', researcherName: 'Pringlett', industry: 'Potato', modifier: 'Discount', rarity: 'Epic', unlockedAtRank: 3};\r\n\tstatic readonly MonsieurFrites: Researcher = { id: 74, name: 'MonsieurFrites', researcherName: 'Monsieur Frites', industry: 'Potato', modifier: 'Bonus', rarity: 'Epic', unlockedAtRank: 3};\r\n\tstatic readonly JarJMusk: Researcher = { id: 75, name: 'JarJMusk', researcherName: 'Jar J. Musk', industry: 'Land', modifier: 'Discount', rarity: 'Epic', unlockedAtRank: 3};\r\n\tstatic readonly HeckAxe: Researcher = { id: 76, name: 'HeckAxe', researcherName: 'Heck Axe', industry: 'Land', modifier: 'Bonus', rarity: 'Epic', unlockedAtRank: 4};\r\n\tstatic readonly MinecraftThrain: Researcher = { id: 77, name: 'MinecraftThrain', researcherName: 'Minecraft Thrain', industry: 'Ore', modifier: 'Discount', rarity: 'Epic', unlockedAtRank: 9};\r\n\tstatic readonly BigBlender: Researcher = { id: 78, name: 'BigBlender', researcherName: 'Big Blender', industry: 'Ore', modifier: 'Bonus', rarity: 'Epic', unlockedAtRank: 14};\r\n\tstatic readonly Megacop: Researcher = { id: 79, name: 'Megacop', researcherName: 'Megacop', industry: 'Military', modifier: 'Discount', rarity: 'Epic', unlockedAtRank: 13};\r\n\tstatic readonly AnnMunition: Researcher = { id: 80, name: 'AnnMunition', researcherName: 'Ann Munition', industry: 'Military', modifier: 'Bonus', rarity: 'Epic', unlockedAtRank: 17};\r\n\tstatic readonly NurseWretched: Researcher = { id: 81, name: 'NurseWretched', researcherName: 'Nurse Wretched', industry: 'Placebo', modifier: 'Discount', rarity: 'Epic', unlockedAtRank: 19};\r\n\tstatic readonly HannibalTavius: Researcher = { id: 82, name: 'HannibalTavius', researcherName: 'Hannibal Tavius', industry: 'Placebo', modifier: 'Bonus', rarity: 'Epic', unlockedAtRank: 22};\r\n\r\n\t// Supremes\r\n\tstatic readonly EarthWyrmJym: Researcher = { id: 83, name: 'EarthWyrmJym', researcherName: 'Earth Wyrm Jym', industry: 'All', modifier: 'Trade', rarity: 'Supreme', unlockedAtRank: 3};\r\n\tstatic readonly RatchemusPrime: Researcher = { id: 84, name: 'RatchemusPrime', researcherName: 'Ratchemus Prime', industry: 'All', modifier: 'Power', rarity: 'Supreme', unlockedAtRank: 3};\r\n\tstatic readonly DrShortstack: Researcher = { id: 85, name: 'DrShortstack', researcherName: 'Dr. Shortstack', industry: 'All', modifier: 'Chance', rarity: 'Supreme', unlockedAtRank: 6};\r\n\tstatic readonly MegaTron: Researcher = { id: 86, name: 'MegaTron', researcherName: 'Mega Tron', industry: 'All', modifier: 'Discount', rarity: 'Supreme', unlockedAtRank: 15};\r\n\tstatic readonly AlfStark: Researcher = { id: 87, name: 'AlfStark', researcherName: 'Alf Stark', industry: 'All', modifier: 'Bonus', rarity: 'Supreme', unlockedAtRank: 26};\r\n\r\n\tstatic get allResearchers(): ReadonlyArray<Researcher> {\r\n\t\treturn Object.values(Researchers);\r\n\t}\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {Decimal} from 'decimal.js';\nimport {Analysis, Industry, Researcher, ResearcherStateMap} from '../reducer/analysis.state';\nimport {Researchers} from '../reducer/researcher.state';\nimport {unitsMapping} from '../util/human-readable-numbers';\n\nconst ZERO = new Decimal(0);\nconst ONE = new Decimal(1);\nconst TWO = new Decimal(2);\nconst FOUR = new Decimal(4);\nconst NINE = new Decimal(9);\nconst _5K = new Decimal(5_000);\n\n@Injectable()\nexport class AnalysisService {\n\tanalyze(\n\t\tresearcher: Researcher,\n\t\tresearcherStateMap: ResearcherStateMap\n\t): Analysis {\n\t\tconst upgradeCost = AnalysisService.getUpgradeCost(researcher, researcherStateMap);\n\t\tconst upgradeCardCost = AnalysisService.getUpgradeCardCost(\n\t\t\tresearcher,\n\t\t\tresearcherStateMap\n\t\t);\n\t\tconst totalUpgradeCost = upgradeCost?.plus(upgradeCardCost) ?? ZERO;\n\t\tconst canUpgrade = AnalysisService.canUpgrade(researcher, researcherStateMap);\n\t\tconst boost = canUpgrade\n\t\t\t? this.getBoost(researcher, researcherStateMap)\n\t\t\t: ZERO;\n\t\tconst boostPer1kScience = AnalysisService.getBoostPer1kScience(\n\t\t\tresearcher,\n\t\t\ttotalUpgradeCost,\n\t\t\tboost\n\t\t);\n\n\t\treturn {\n\t\t\tboost: boost.toString(),\n\t\t\tboostPer1kScience: boostPer1kScience.toString(),\n\t\t\tcanUpgrade,\n\t\t\tupgradeCardCost: upgradeCardCost.toString(),\n\t\t\tupgradeCost: upgradeCost.toString()\n\t\t};\n\t}\n\n\tprivate static getBoostPer1kScience(\n\t\tresearcher: Researcher,\n\t\ttotalUpgradeCost: Decimal,\n\t\tboost: Decimal\n\t) {\n\t\tif (totalUpgradeCost.equals(0)) {\n\t\t\treturn ZERO;\n\t\t}\n\t\tif (researcher.modifier === 'Trade') {\n\t\t\treturn boost.minus(1).div(totalUpgradeCost.div(1000)).plus(1);\n\t\t}\n\t\treturn boost.div(totalUpgradeCost.div(1000));\n\t}\n\n\tgetIndustryPower(industry: Industry, researcherStateMap: ResearcherStateMap) {\n\t\tif (industry === 'All') return ZERO;\n\n\t\tconst researchers = Researchers.allResearchers.filter(\n\t\t\t(r) => r.industry === industry || r.industry === 'All'\n\t\t);\n\n\t\tlet power = ONE;\n\t\tfor (let researcher of researchers) {\n\t\t\tconst lvl = researcherStateMap[researcher.name]?.currentLevel ?? 0;\n\t\t\tif (researcher.modifier === 'Speed') {\n\t\t\t\tpower = power.times(TWO.pow(lvl));\n\t\t\t} else if (researcher.modifier === 'Power') {\n\t\t\t\tpower = power.times(\n\t\t\t\t\tTWO.pow(lvl).pow(\n\t\t\t\t\t\tthis.getCommonCountForIndustry(\n\t\t\t\t\t\t\tresearcher.industry,\n\t\t\t\t\t\t\tresearcherStateMap\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else if (researcher.modifier === 'SinglePower') {\n\t\t\t\tpower = power.times(NINE.times(TWO.pow(Math.max(lvl - 1, 0))));\n\t\t\t}\n\t\t}\n\n\t\tconst discountFactor = this.getDiscountFactorForIndustry(\n\t\t\tindustry,\n\t\t\tresearcherStateMap\n\t\t);\n\t\tconst chance = this.getChanceForIndustry(industry, researcherStateMap);\n\t\tconst bonusMultiplier = this.getBonusMultiplierForIndustry(\n\t\t\tindustry,\n\t\t\tresearcherStateMap\n\t\t);\n\n\t\tpower = power.times(ONE.minus(chance).plus(chance.times(bonusMultiplier)));\n\t\tpower = power.times(discountFactor);\n\n\t\treturn power;\n\t}\n\n\tprivate getBoost(\n\t\tresearcher: Researcher,\n\t\tresearcherStateMap: ResearcherStateMap\n\t): Decimal {\n\t\tswitch (researcher.modifier) {\n\t\t\tcase 'Speed':\n\t\t\t\treturn ONE;\n\t\t\tcase 'Power':\n\t\t\t\treturn new Decimal(\n\t\t\t\t\tthis.getCommonCountForIndustry(\n\t\t\t\t\t\tresearcher.industry,\n\t\t\t\t\t\tresearcherStateMap\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tcase 'Trade':\n\t\t\t\treturn this.getTradeBoost(researcher, researcherStateMap);\n\t\t\tcase 'Chance':\n\t\t\t\treturn this.getChanceBoost(researcher, researcherStateMap);\n\t\t\tcase 'Discount':\n\t\t\t\t// Supreme: 5*log2(10), Epic: log2(10)\n\t\t\t\treturn researcher.rarity === 'Supreme'\n\t\t\t\t\t? new Decimal('16.6096404744')\n\t\t\t\t\t: new Decimal('3.32192809489');\n\t\t\tcase 'Bonus':\n\t\t\t\treturn TWO.times(\n\t\t\t\t\tthis.getCommonCountForIndustry(\n\t\t\t\t\t\tresearcher.industry,\n\t\t\t\t\t\tresearcherStateMap\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tcase 'SinglePower':\n\t\t\t\treturn (researcherStateMap[researcher.name]?.currentLevel ?? 0) == 0\n\t\t\t\t\t? NINE.log(TWO)\n\t\t\t\t\t: ONE;\n\t\t}\n\t}\n\n\tprivate getTradeBoost(\n\t\tresearcher: Researcher,\n\t\tresearcherStateMap: ResearcherStateMap\n\t): Decimal {\n\t\tlet supremeTradeLvl =\n\t\t\tresearcherStateMap[\n\t\t\t\tResearchers.allResearchers.find(\n\t\t\t\t\t(r) => r.rarity === 'Supreme' && r.modifier === 'Trade'\n\t\t\t\t)?.name\n\t\t\t]?.currentLevel ?? 0;\n\n\t\tconst industries: Industry[] = [\n\t\t\t'Potato',\n\t\t\t'Land',\n\t\t\t'Ore',\n\t\t\t'Military',\n\t\t\t'Placebo'\n\t\t];\n\t\tconst currentTradePower = industries\n\t\t\t.map((industry) => {\n\t\t\t\tconst researcherState =\n\t\t\t\t\tresearcherStateMap[\n\t\t\t\t\t\tResearchers.allResearchers.find(\n\t\t\t\t\t\t\t(r) => r.modifier === 'Trade' && r.industry === industry\n\t\t\t\t\t\t)?.name\n\t\t\t\t\t];\n\t\t\t\tconst lvl = researcherState?.currentLevel ?? 0;\n\t\t\t\tconst industryTradeExponent = this.getIndustryPower(\n\t\t\t\t\tindustry,\n\t\t\t\t\tresearcherStateMap\n\t\t\t\t).log(_5K);\n\t\t\t\tconst tradeCount =\n\t\t\t\t\tAnalysisService.getTradeCount(researcherState?.nextTradeCost) ??\n\t\t\t\t\tindustryTradeExponent;\n\t\t\t\treturn TWO.pow(lvl)\n\t\t\t\t\t.times(TWO.pow(supremeTradeLvl))\n\t\t\t\t\t.times(tradeCount)\n\t\t\t\t\t.times(AnalysisService.getIndustryTradeMultiplier(industry));\n\t\t\t})\n\t\t\t.reduce((acc, power) => acc.plus(power), ZERO);\n\n\t\tif (researcher.rarity === 'Supreme') supremeTradeLvl++;\n\t\tconst boostedTradePower = industries\n\t\t\t.map((industry) => {\n\t\t\t\tconst researcherState =\n\t\t\t\t\tresearcherStateMap[\n\t\t\t\t\t\tResearchers.allResearchers.find(\n\t\t\t\t\t\t\t(r) => r.modifier === 'Trade' && r.industry === industry\n\t\t\t\t\t\t)?.name\n\t\t\t\t\t];\n\t\t\t\tlet lvl = researcherState?.currentLevel ?? 0;\n\t\t\t\tif (researcher.industry === industry) lvl++;\n\t\t\t\tconst industryTradeExponent = this.getIndustryPower(\n\t\t\t\t\tindustry,\n\t\t\t\t\tresearcherStateMap\n\t\t\t\t).log(_5K);\n\t\t\t\tconst tradeCount =\n\t\t\t\t\tAnalysisService.getTradeCount(researcherState?.nextTradeCost) ??\n\t\t\t\t\tindustryTradeExponent;\n\t\t\t\treturn TWO.pow(lvl)\n\t\t\t\t\t.times(TWO.pow(supremeTradeLvl))\n\t\t\t\t\t.times(tradeCount)\n\t\t\t\t\t.times(AnalysisService.getIndustryTradeMultiplier(industry));\n\t\t\t})\n\t\t\t.reduce((acc, power) => acc.plus(power), ZERO);\n\n\t\treturn boostedTradePower.div(currentTradePower);\n\t}\n\n\tprivate getCommonCountForIndustry(\n\t\tindustry: Industry,\n\t\tresearcherStateMap: ResearcherStateMap\n\t) {\n\t\treturn Researchers.allResearchers\n\t\t\t.filter(\n\t\t\t\t(r) =>\n\t\t\t\t\t(r.industry === industry || industry == 'All') &&\n\t\t\t\t\tr.rarity === 'Common'\n\t\t\t)\n\t\t\t.map((r) => researcherStateMap[r.name]?.currentLevel ?? 0)\n\t\t\t.filter((lvl) => lvl > 0).length;\n\t}\n\n\tprivate getChanceBoost(\n\t\tresearcher: Researcher,\n\t\tresearcherStateMap: ResearcherStateMap\n\t) {\n\t\tconst chance = this.getChanceForIndustry(\n\t\t\tresearcher.industry,\n\t\t\tresearcherStateMap\n\t\t);\n\t\tconst nextChance = this.getChanceForIndustry(\n\t\t\tresearcher.industry,\n\t\t\tresearcherStateMap,\n\t\t\ttrue\n\t\t);\n\t\tconst multiplier = this.getBonusMultiplierForIndustry(\n\t\t\tresearcher.industry,\n\t\t\tresearcherStateMap\n\t\t);\n\t\tconst commonCount = this.getCommonCountForIndustry(\n\t\t\tresearcher.industry,\n\t\t\tresearcherStateMap\n\t\t);\n\t\tconst power = ONE.minus(chance).plus(chance.times(multiplier));\n\t\tconst nextPower = ONE.minus(chance).plus(nextChance.times(multiplier));\n\t\tconst boost = nextPower.div(power).pow(commonCount);\n\t\treturn boost.log(TWO);\n\t}\n\n\tprivate getBonusMultiplierForIndustry(\n\t\tindustry: Industry,\n\t\tresearcherStateMap: ResearcherStateMap\n\t) {\n\t\treturn Researchers.allResearchers\n\t\t\t.filter(\n\t\t\t\t(r) =>\n\t\t\t\t\tr.modifier == 'Bonus' &&\n\t\t\t\t\t(r.industry == industry || r.industry == 'All')\n\t\t\t)\n\t\t\t.map((r) => researcherStateMap[r.name]?.currentLevel ?? 0)\n\t\t\t.filter((lvl) => lvl > 0)\n\t\t\t.reduce((acc, lvl) => acc.times(FOUR.pow(lvl)), TWO);\n\t}\n\n\tprivate getDiscountFactorForIndustry(\n\t\tindustry: Industry,\n\t\tresearcherStateMap: ResearcherStateMap\n\t) {\n\t\treturn Researchers.allResearchers\n\t\t\t.filter(\n\t\t\t\t(r) =>\n\t\t\t\t\tr.modifier === 'Discount' &&\n\t\t\t\t\t(r.industry === industry || r.industry === 'All')\n\t\t\t)\n\t\t\t.map((r) => researcherStateMap[r.name]?.currentLevel ?? 0)\n\t\t\t.reduce((acc, lvl) => acc.times(AnalysisService.getDiscountFactorFromLvl(lvl)), ONE);\n\t}\n\n\tprivate static getDiscountFactorFromLvl(lvl: number) {\n\t\treturn new Decimal(10).pow(lvl);\n\t}\n\n\tprivate getChanceForIndustry(\n\t\tindustry: Industry,\n\t\tresearcherStateMap: ResearcherStateMap,\n\t\tsimulatePlusOneLvl: Boolean = false\n\t) {\n\t\treturn Researchers.allResearchers\n\t\t\t.filter(\n\t\t\t\t(r) =>\n\t\t\t\t\tr.modifier === 'Chance' &&\n\t\t\t\t\t(r.industry === industry || r.industry === 'All')\n\t\t\t)\n\t\t\t.map((r) => {\n\t\t\t\tlet lvl = researcherStateMap[r.name]?.currentLevel ?? 0;\n\t\t\t\tif (simulatePlusOneLvl && (r.industry !== 'All' || industry == 'All')) {\n\t\t\t\t\tlvl++;\n\t\t\t\t}\n\t\t\t\treturn AnalysisService.getChanceFromLvl(lvl, r.rarity === 'Supreme');\n\t\t\t})\n\t\t\t.reduce((acc, chance) => acc.plus(chance), new Decimal('0.01'));\n\t}\n\n\tprivate static getChanceFromLvl(chanceLvl: number, isSupreme: Boolean): Decimal {\n\t\tif (isSupreme) {\n\t\t\tswitch (chanceLvl) {\n\t\t\t\tcase 1:\n\t\t\t\t\treturn new Decimal('0.08');\n\t\t\t\tcase 2:\n\t\t\t\t\treturn new Decimal('0.13');\n\t\t\t\tcase 3:\n\t\t\t\t\treturn new Decimal('0.19');\n\t\t\t\tcase 4:\n\t\t\t\t\treturn new Decimal('0.26');\n\t\t\t\tcase 5:\n\t\t\t\t\treturn new Decimal('0.34');\n\t\t\t\tdefault:\n\t\t\t\t\treturn ZERO;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (chanceLvl) {\n\t\t\t\tcase 1:\n\t\t\t\t\treturn new Decimal('0.05');\n\t\t\t\tcase 2:\n\t\t\t\t\treturn new Decimal('0.0725');\n\t\t\t\tcase 3:\n\t\t\t\t\treturn new Decimal('0.1');\n\t\t\t\tcase 4:\n\t\t\t\t\treturn new Decimal('0.1325');\n\t\t\t\tcase 5:\n\t\t\t\t\treturn new Decimal('0.17');\n\t\t\t\tcase 6:\n\t\t\t\t\treturn new Decimal('0.2125');\n\t\t\t\tcase 7:\n\t\t\t\t\treturn new Decimal('0.26');\n\t\t\t\tcase 8:\n\t\t\t\t\treturn new Decimal('0.3125');\n\t\t\t\tcase 9:\n\t\t\t\t\treturn new Decimal('0.37');\n\t\t\t\tcase 10:\n\t\t\t\t\treturn new Decimal('0.4325');\n\t\t\t\tcase 11:\n\t\t\t\t\treturn new Decimal('0.5');\n\t\t\t\tdefault:\n\t\t\t\t\treturn ZERO;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static getUpgradeCost(\n\t\tresearcher: Researcher,\n\t\tresearcherStateMap: ResearcherStateMap\n\t): Decimal {\n\t\tconst lvl = researcherStateMap[researcher.name]?.currentLevel ?? 0;\n\t\tswitch (researcher.rarity) {\n\t\t\tcase 'Common':\n\t\t\t\tswitch (lvl) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\treturn ZERO;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\treturn new Decimal(50);\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\treturn new Decimal(100);\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\treturn new Decimal(200);\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\treturn new Decimal(300);\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\treturn new Decimal(400);\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\treturn new Decimal(1_000);\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\treturn new Decimal(2_000);\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\treturn new Decimal(4_000);\n\t\t\t\t\tcase 9:\n\t\t\t\t\t\treturn new Decimal(8_000);\n\t\t\t\t\tcase 10:\n\t\t\t\t\t\treturn new Decimal(20_000);\n\t\t\t\t\tcase 11:\n\t\t\t\t\t\treturn new Decimal(50_000);\n\t\t\t\t\tcase 12:\n\t\t\t\t\t\treturn new Decimal(100_000);\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn ZERO;\n\t\t\t\t}\n\t\t\tcase 'Rare':\n\t\t\t\tswitch (lvl) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\treturn ZERO;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\treturn new Decimal(100);\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\treturn new Decimal(200);\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\treturn new Decimal(400);\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\treturn new Decimal(1_000);\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\treturn new Decimal(2_000);\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\treturn new Decimal(4_000);\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\treturn new Decimal(8_000);\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\treturn new Decimal(20_000);\n\t\t\t\t\tcase 9:\n\t\t\t\t\t\treturn new Decimal(50_000);\n\t\t\t\t\tcase 10:\n\t\t\t\t\t\treturn new Decimal(100_000);\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn ZERO;\n\t\t\t\t}\n\t\t\tcase 'Epic':\n\t\t\t\tswitch (lvl) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\treturn ZERO;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\treturn new Decimal(400);\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\treturn new Decimal(2_000);\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\treturn new Decimal(4_000);\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\treturn new Decimal(8_000);\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\treturn new Decimal(20_000);\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\treturn new Decimal(50_000);\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\treturn new Decimal(100_000);\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn ZERO;\n\t\t\t\t}\n\t\t\tcase 'Supreme':\n\t\t\t\tswitch (lvl) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\treturn ZERO;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\treturn new Decimal(5_000);\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\treturn new Decimal(20_000);\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\treturn new Decimal(50_000);\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\treturn new Decimal(100_000);\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn ZERO;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn ZERO;\n\t\t}\n\t}\n\n\tprivate static getRequiredCardsForUpgrade(\n\t\tresearcher: Researcher,\n\t\tresearcherStateMap: ResearcherStateMap\n\t): Decimal {\n\t\tconst lvl = researcherStateMap[researcher.name]?.currentLevel ?? 0;\n\t\tif (!this.canUpgrade(researcher, researcherStateMap)) {\n\t\t\treturn ZERO;\n\t\t}\n\t\tswitch (lvl) {\n\t\t\tcase 0:\n\t\t\t\treturn ONE;\n\t\t\tcase 1:\n\t\t\t\treturn TWO;\n\t\t\tcase 2:\n\t\t\t\treturn new Decimal(5);\n\t\t\tcase 3:\n\t\t\t\treturn new Decimal(10);\n\t\t\tcase 4:\n\t\t\t\treturn new Decimal(20);\n\t\t\tcase 5:\n\t\t\t\treturn new Decimal(50);\n\t\t\tcase 6:\n\t\t\t\treturn new Decimal(100);\n\t\t\tcase 7:\n\t\t\t\treturn new Decimal(200);\n\t\t\tcase 8:\n\t\t\t\treturn new Decimal(400);\n\t\t\tcase 9:\n\t\t\t\treturn new Decimal(800);\n\t\t\tcase 10:\n\t\t\t\treturn new Decimal(1_000);\n\t\t\tcase 11:\n\t\t\t\treturn new Decimal(2_000);\n\t\t\tcase 12:\n\t\t\t\treturn new Decimal(5_000);\n\t\t\tdefault:\n\t\t\t\treturn ZERO;\n\t\t}\n\t}\n\n\tprivate static getUpgradeCardCost(\n\t\tresearcher: Researcher,\n\t\tresearcherStateMap: ResearcherStateMap\n\t): Decimal {\n\t\tconst availableCards = researcherStateMap[researcher.name].availableCards;\n\t\tif (availableCards != null) {\n\t\t\tconst requiredCards = AnalysisService.getRequiredCardsForUpgrade(\n\t\t\t\tresearcher,\n\t\t\t\tresearcherStateMap\n\t\t\t);\n\t\t\tconst missingCards = requiredCards.lte(availableCards)\n\t\t\t\t? ZERO\n\t\t\t\t: requiredCards.minus(availableCards);\n\t\t\treturn missingCards.times(AnalysisService.getCardCosts(researcher));\n\t\t} else {\n\t\t\treturn ZERO;\n\t\t}\n\t}\n\n\tprivate static getCardCosts(researcher: Researcher) {\n\t\tswitch (researcher.rarity) {\n\t\t\tcase 'Common':\n\t\t\t\treturn new Decimal(10);\n\t\t\tcase 'Rare':\n\t\t\t\treturn new Decimal(100);\n\t\t\tcase 'Epic':\n\t\t\t\treturn new Decimal(1_000);\n\t\t\tcase 'Supreme':\n\t\t\t\treturn new Decimal(40_000);\n\t\t}\n\t}\n\n\tprivate static canUpgrade(\n\t\tresearcher: Researcher,\n\t\tresearcherStateMap: ResearcherStateMap\n\t) {\n\t\tconst lvl = researcherStateMap[researcher.name]?.currentLevel ?? 0;\n\t\tswitch (researcher.rarity) {\n\t\t\tcase 'Common':\n\t\t\t\treturn lvl < 13;\n\t\t\tcase 'Rare':\n\t\t\t\treturn lvl < 11;\n\t\t\tcase 'Epic':\n\t\t\t\treturn lvl < 8;\n\t\t\tcase 'Supreme':\n\t\t\t\treturn lvl < 5;\n\t\t}\n\t}\n\n\tprivate static getIndustryTradeMultiplier(industry: Industry) {\n\t\tswitch (industry) {\n\t\t\tcase 'Potato':\n\t\t\t\treturn new Decimal(1);\n\t\t\tcase 'Land':\n\t\t\t\treturn new Decimal(2);\n\t\t\tcase 'Ore':\n\t\t\t\treturn new Decimal(3);\n\t\t\tcase 'Military':\n\t\t\t\treturn new Decimal(4);\n\t\t\tcase 'Placebo':\n\t\t\t\treturn new Decimal(5);\n\t\t\tcase 'All':\n\t\t\t\treturn new Decimal(1 + 2 + 3 + 4 + 5);\n\t\t}\n\t}\n\n\tprivate static getTradeCount(nextTradeCost: string): Decimal {\n\t\tif (nextTradeCost === '5000') {\n\t\t\treturn new Decimal(0);\n\t\t}\n\t\tconst num = nextTradeCost?.match(/(?<num>[0-9]*)(?<unit>[a-z]*)/i).groups\n\t\t\t.num;\n\t\tconst unit = nextTradeCost?.match(/(?<num>[0-9]*)(?<unit>[a-z]*)/i).groups\n\t\t\t.unit;\n\t\tconst index = unitsMapping.indexOf(unit);\n\n\t\tif ((!num || num === '5') && index > -1) {\n\t\t\treturn new Decimal(Math.max(index - 1, 0));\n\t\t}\n\t\treturn null;\n\t}\n}\n","/**\r\n * BEM - Block Element Modifier helper function\r\n */\r\nexport function BEM(blockName: string) {\r\n\treturn (elementName: string, ...modifier: string[]) => {\r\n\t\tlet styleClasses = blockName;\r\n\r\n\t\tif (elementName) {\r\n\t\t\tstyleClasses += '__' + elementName;\r\n\t\t}\r\n\r\n\t\tif (modifier?.length > 0) {\r\n\t\t\tconst base = styleClasses;\r\n\t\t\tstyleClasses +=\r\n\t\t\t\t' ' + modifier.map((modifier) => base + '--' + modifier).join(' ');\r\n\t\t}\r\n\t\treturn styleClasses;\r\n\t};\r\n}\r\n","import { ResearcherState, ResearcherStateMap } from '../reducer/analysis.state';\r\nimport { Researchers } from '../reducer/researcher.state';\r\nimport { compress, decodeBase64, decompress, encodeBase64 } from 'lzutf8';\r\nimport { unitsMapping } from './human-readable-numbers';\r\n\r\n// TODO remove v0 encoding after a couple weeks\r\n\r\nexport function compressState(researcherStateMap: ResearcherStateMap) {\r\n\treturn shift(encode_v1(researcherStateMap));\r\n}\r\n\r\nexport function decompressState(compressedState: string) {\r\n\tif (isBase64Encoded(compressedState)) {\r\n\t\tconst decompressedString = stringDecompress(compressedState);\r\n\t\tif (matches_v0_encodingPattern(decompressedString)) {\r\n\t\t\treturn decode_v0(decompressedString);\r\n\t\t}\r\n\t}\r\n\treturn decode_v1(unshift(compressedState));\r\n}\r\n\r\nfunction encode_v0(state: ResearcherStateMap) {\r\n\tconst json = JSON.stringify(state);\r\n\tlet encodedJson = json\r\n\t\t.replace(/,\"availableCards\":null/g, '-1')\r\n\t\t.replace(/,\"availableCards\":/g, '-2')\r\n\t\t.replace(/\":\\{\"currentLevel\":/g, '-3')\r\n\t\t.replace(/,\"nextTradeCost\":null/g, '-4')\r\n\t\t.replace(/,\"nextTradeCost\":\"/g, '-5')\r\n\t\t.replace(/\"},\"/g, '-6')\r\n\t\t.replace(/},\"/g, '-7')\r\n\t\t.replace(/\\{\"/g, '-8')\r\n\t\t.replace(/}}/g, '-9');\r\n\tResearchers.allResearchers.forEach((r, i) => {\r\n\t\tencodedJson = encodedJson.replace(r.name, `_${r.id}`);\r\n\t});\r\n\r\n\treturn encodedJson;\r\n}\r\n\r\nfunction isBase64Encoded(input: string) {\r\n\treturn /^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/.test(\r\n\t\tinput\r\n\t);\r\n}\r\n\r\nfunction matches_v0_encodingPattern(input: string) {\r\n\treturn /((_[0-9]+)|(-[1-9]))+/.test(input);\r\n}\r\n\r\nfunction decode_v0(encodedJson: string) {\r\n\tlet decodedJson = encodedJson\r\n\t\t.replace(/-1/g, ',\"availableCards\":null')\r\n\t\t.replace(/-2/g, ',\"availableCards\":')\r\n\t\t.replace(/-3/g, '\":{\"currentLevel\":')\r\n\t\t.replace(/-4/g, ',\"nextTradeCost\":null')\r\n\t\t.replace(/-5/g, ',\"nextTradeCost\":\"')\r\n\t\t.replace(/-6/g, '\"},\"')\r\n\t\t.replace(/-7/g, '},\"')\r\n\t\t.replace(/-8/g, '{\"')\r\n\t\t.replace(/-9/g, '}}');\r\n\tResearchers.allResearchers.forEach((r) => {\r\n\t\tdecodedJson = decodedJson.replace(`_${r.id}`, r.name);\r\n\t});\r\n\r\n\treturn JSON.parse(decodedJson);\r\n}\r\n\r\nfunction stringCompress(value: string) {\r\n\treturn encodeBase64(compress(value));\r\n}\r\n\r\nfunction stringDecompress(value: string) {\r\n\treturn decompress(decodeBase64(value));\r\n}\r\n\r\nfunction encode_v1(state: ResearcherStateMap) {\r\n\tlet encodedJson = '';\r\n\tObject.keys(state).forEach((name) => {\r\n\t\tlet part = '';\r\n\t\tconst researcherState = state[name];\r\n\t\tconst researcher = Researchers.allResearchers.find((r) => r.name === name);\r\n\t\tpart += toBase62(researcher.id).padStart(2, '0');\r\n\t\tpart += toBase62(researcherState.currentLevel);\r\n\t\tif (researcher.modifier === 'Trade' && researcher.rarity !== 'Supreme') {\r\n\t\t\tif (researcherState.nextTradeCost == null) {\r\n\t\t\t\tpart += '00';\r\n\t\t\t} else {\r\n\t\t\t\tpart += toBase62(\r\n\t\t\t\t\tunitsMapping.indexOf(researcherState.nextTradeCost) + 1\r\n\t\t\t\t).padStart(2, '0');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (researcherState.availableCards != null) {\r\n\t\t\tpart += toBase62(researcherState.availableCards);\r\n\t\t}\r\n\t\tconst size = toBase62(part.length + 1);\r\n\t\tencodedJson += size + part;\r\n\t});\r\n\treturn encodedJson;\r\n}\r\n\r\nfunction decode_v1(encodedJson: string) {\r\n\tlet remaining = encodedJson;\r\n\tconst researcherStateMap: ResearcherStateMap = {};\r\n\twhile (remaining.length > 0) {\r\n\t\tconst size = toBase10(remaining.substr(0, 1));\r\n\t\tconst state: ResearcherState = {\r\n\t\t\tcurrentLevel: 0,\r\n\t\t\tavailableCards: null,\r\n\t\t\tnextTradeCost: null\r\n\t\t};\r\n\t\tlet part = remaining.substr(1, size - 1);\r\n\t\tremaining = remaining.substr(size);\r\n\t\tconst id = toBase10(part.substr(0, 2));\r\n\t\tconst researcher = Researchers.allResearchers.find((r) => r.id === id);\r\n\t\tpart = part.substr(2);\r\n\t\tconst lvl = toBase10(part.substr(0, 1));\r\n\t\tpart = part.substr(1);\r\n\t\tstate.currentLevel = lvl;\r\n\t\tif (researcher.modifier === 'Trade' && researcher.rarity !== 'Supreme') {\r\n\t\t\tconst tradecost = part.substr(0, 2);\r\n\t\t\tpart = part.substr(2);\r\n\t\t\tif (tradecost !== '00') {\r\n\t\t\t\tstate.nextTradeCost = unitsMapping[toBase10(tradecost) - 1];\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (part.length > 0) {\r\n\t\t\tconst availableCards = toBase10(part);\r\n\t\t\tstate.availableCards = availableCards;\r\n\t\t}\r\n\t\tresearcherStateMap[researcher.name] = state;\r\n\t}\r\n\treturn researcherStateMap;\r\n}\r\n\r\nfunction toBase10(numString: string) {\r\n\tlet power = 1;\r\n\tlet num = 0;\r\n\tfor (let i = numString.length - 1; i >= 0; i--) {\r\n\t\tconst char = numString.charAt(i);\r\n\t\tif (base62Symbols.indexOf(char) === -1) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\tnum += base62Symbols.indexOf(char) * power;\r\n\t\tpower = power * 62;\r\n\t}\r\n\treturn num;\r\n}\r\n\r\nfunction toBase62(num: number) {\r\n\tif (num === 0) return '0';\r\n\r\n\tlet s = '';\r\n\twhile (num > 0) {\r\n\t\ts = base62Symbols[num % 62] + s;\r\n\t\tnum = Math.floor(num / 62);\r\n\t}\r\n\r\n\treturn s;\r\n}\r\n\r\nconst base62Symbols = createBase62Symbols();\r\n\r\nfunction createBase62Symbols() {\r\n\tconst chars: string[] = [];\r\n\tfor (let i = 0; i <= 9; i++) {\r\n\t\tchars.push(i.toString());\r\n\t}\r\n\tfor (let i = 97; i <= 122; i++) {\r\n\t\tchars.push(String.fromCharCode(i));\r\n\t}\r\n\tfor (let i = 65; i <= 90; i++) {\r\n\t\tchars.push(String.fromCharCode(i));\r\n\t}\r\n\treturn chars;\r\n}\r\n\r\nfunction shift(input: string) {\r\n\tlet res = '';\r\n\tinput.split('').forEach((c, i) => {\r\n\t\tconst j = base62Symbols.indexOf(c);\r\n\t\tconst delta = 47 * (i + 4) + ((i + 4) % 39);\r\n\t\tres += base62Symbols[(j + delta) % 62];\r\n\t});\r\n\treturn res;\r\n}\r\n\r\nfunction unshift(input: string) {\r\n\tlet res = '';\r\n\tinput.split('').forEach((c, i) => {\r\n\t\tconst j = base62Symbols.indexOf(c);\r\n\t\tconst delta = 47 * (i + 4) + ((i + 4) % 39);\r\n\t\tlet y = (j - delta) % 62;\r\n\t\tif (y === -0) {\r\n\t\t\ty = 0;\r\n\t\t} else if (y < 0) {\r\n\t\t\ty += 62;\r\n\t\t}\r\n\t\tres += base62Symbols[y];\r\n\t});\r\n\treturn res;\r\n}\r\n","import { Decimal } from 'decimal.js';\r\n\r\nexport function toHumanReadable(decimal: Decimal) {\r\n\tconst powerOfThree = Math.max(\r\n\t\tMath.floor((decimal.precision(true) - decimal.decimalPlaces() - 1) / 3),\r\n\t\t0\r\n\t);\r\n\tconst num = decimal\r\n\t\t.div(new Decimal(10).pow(powerOfThree * 3))\r\n\t\t.toDecimalPlaces(3);\r\n\tconst suffix = unitsMapping[powerOfThree];\r\n\treturn num.toString() + suffix;\r\n}\r\n\r\nexport const unitsMapping = getUnitsMapping();\r\n\r\nfunction getUnitsMapping() {\r\n\tconst units = ['', 'K', 'M', 'B', 'T'];\r\n\tconst abc = [];\r\n\tfor (let charCode = 65; charCode <= 90; charCode++) {\r\n\t\tabc.push(String.fromCharCode(charCode));\r\n\t}\r\n\tfor (let repeat = 2; repeat <= 4; repeat++) {\r\n\t\tfor (let char of abc) {\r\n\t\t\tunits.push(''.padEnd(repeat, char));\r\n\t\t}\r\n\t}\r\n\treturn units;\r\n}\r\n","const REM_PX_RATIO = 16;\r\n\r\nexport function REM() {\r\n\treturn (px: number) => px / REM_PX_RATIO + 'rem';\r\n}\r\n","export const environment = {\r\n\tproduction: false,\r\n\ticonPath: '/assets/icons/'\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n\tenableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic()\r\n\t.bootstrapModule(AppModule)\r\n\t.catch((err) => console.error(err));\r\n","/* (ignored) */","/* (ignored) */"],"names":[],"sourceRoot":"webpack:///"}